'use client';

import { Box, Button } from '@mui/material';
import React from 'react';
import menu from '@/public/menu.jpg';
import Image from 'next/image';
import { useSelector, useDispatch } from 'react-redux';
import { RootState } from '@/redux/store';
import { newWindow } from '@/redux/appSlice';
import ContactMail from './ContactMail';

const Menu = () => {
  const dispatch = useDispatch();
  const { start } = useSelector((state: RootState) => state.app);

  return (
    <Box
      width={!start.open ? '0' : '35%'}
      height={!start.open ? '0' : '75%'}
      borderRadius={'10px 10px 0 0'}
      overflow={'hidden'}
      bgcolor={'#f0f0f0'}
      zIndex={100}
      position={'absolute'}
      bottom={'35px'}
      sx={{ transition: 'all 0.2s' }}
    >
      <ContactMail />
      <Image
        style={{ filter: 'contrast(1.1)' }}
        src={menu}
        layout={'fill'}
        alt="menu"
      />
      <Box
        position={'absolute'}
        height={'77%'}
        width={'48.5%'}
        right={'1.2%'}
        top={'14%'}
        padding={'20px'}
        boxSizing={'border-box'}
      >
        <Button
          onClick={() => {
            dispatch(
              newWindow({
                title: 'Postcode Book',
                link: 'https://codesandbox.io/p/github/RonnieTz/postcode-book/master?layout=%257B%2522sidebarPanel%2522%253A%2522EXPLORER%2522%252C%2522rootPanelGroup%2522%253A%257B%2522direction%2522%253A%2522horizontal%2522%252C%2522contentType%2522%253A%2522UNKNOWN%2522%252C%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522id%2522%253A%2522ROOT_LAYOUT%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522UNKNOWN%2522%252C%2522direction%2522%253A%2522vertical%2522%252C%2522id%2522%253A%2522clzzvbjq30006356mqgboh0y6%2522%252C%2522sizes%2522%253A%255B100%252C0%255D%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522EDITOR%2522%252C%2522direction%2522%253A%2522horizontal%2522%252C%2522id%2522%253A%2522EDITOR%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522EDITOR%2522%252C%2522id%2522%253A%2522clzzvbjq10002356mhrllotpb%2522%257D%255D%257D%252C%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522SHELLS%2522%252C%2522direction%2522%253A%2522horizontal%2522%252C%2522id%2522%253A%2522SHELLS%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522SHELLS%2522%252C%2522id%2522%253A%2522clzzvbjq10004356mfivsk2zx%2522%257D%255D%257D%255D%257D%252C%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522DEVTOOLS%2522%252C%2522direction%2522%253A%2522vertical%2522%252C%2522id%2522%253A%2522DEVTOOLS%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522DEVTOOLS%2522%252C%2522id%2522%253A%2522clzzvbjq10005356mdvqse2le%2522%257D%255D%257D%255D%252C%2522sizes%2522%253A%255B50%252C50%255D%257D%252C%2522tabbedPanels%2522%253A%257B%2522clzzvbjq10002356mhrllotpb%2522%253A%257B%2522tabs%2522%253A%255B%257B%2522id%2522%253A%2522clzzvbjq10001356mrig2gwco%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522FILE%2522%252C%2522filepath%2522%253A%2522%252FREADME.md%2522%252C%2522state%2522%253A%2522IDLE%2522%257D%255D%252C%2522id%2522%253A%2522clzzvbjq10002356mhrllotpb%2522%252C%2522activeTabId%2522%253A%2522clzzvbjq10001356mrig2gwco%2522%257D%252C%2522clzzvbjq10005356mdvqse2le%2522%253A%257B%2522tabs%2522%253A%255B%255D%252C%2522id%2522%253A%2522clzzvbjq10005356mdvqse2le%2522%257D%252C%2522clzzvbjq10004356mfivsk2zx%2522%253A%257B%2522id%2522%253A%2522clzzvbjq10004356mfivsk2zx%2522%252C%2522activeTabId%2522%253A%2522clzzvbjq10003356mekh5qv9g%2522%252C%2522tabs%2522%253A%255B%257B%2522id%2522%253A%2522clzzvbjq10003356mekh5qv9g%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522NEW_TERMINAL%2522%257D%252C%257B%2522type%2522%253A%2522TASK_LOG%2522%252C%2522taskId%2522%253A%2522dev%2522%252C%2522id%2522%253A%2522clzzvbo2y0005356mfgbkovc6%2522%252C%2522mode%2522%253A%2522permanent%2522%257D%255D%257D%257D%252C%2522showDevtools%2522%253Atrue%252C%2522showShells%2522%253Atrue%252C%2522showSidebar%2522%253Atrue%252C%2522sidebarPanelSize%2522%253A15%257D',
                id: String(Math.floor(Math.random() * 1000)),
              })
            );
          }}
        >
          New Window
        </Button>
        <Button
          onClick={() => {
            dispatch(
              newWindow({
                title: 'App 2',
                link: 'https://codesandbox.io/p/github/RonnieTz/weldspacing/master?import=true&layout=%257B%2522sidebarPanel%2522%253A%2522EXPLORER%2522%252C%2522rootPanelGroup%2522%253A%257B%2522direction%2522%253A%2522horizontal%2522%252C%2522contentType%2522%253A%2522UNKNOWN%2522%252C%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522id%2522%253A%2522ROOT_LAYOUT%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522UNKNOWN%2522%252C%2522direction%2522%253A%2522vertical%2522%252C%2522id%2522%253A%2522clzzx6jyx0006356mmk52gigm%2522%252C%2522sizes%2522%253A%255B100%252C0%255D%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522EDITOR%2522%252C%2522direction%2522%253A%2522horizontal%2522%252C%2522id%2522%253A%2522EDITOR%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522EDITOR%2522%252C%2522id%2522%253A%2522clzzx6jyx0002356mn9oqft25%2522%257D%255D%257D%252C%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522SHELLS%2522%252C%2522direction%2522%253A%2522horizontal%2522%252C%2522id%2522%253A%2522SHELLS%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522SHELLS%2522%252C%2522id%2522%253A%2522clzzx6jyx0004356m3ktby2k6%2522%257D%255D%257D%255D%257D%252C%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522DEVTOOLS%2522%252C%2522direction%2522%253A%2522vertical%2522%252C%2522id%2522%253A%2522DEVTOOLS%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522DEVTOOLS%2522%252C%2522id%2522%253A%2522clzzx6jyx0005356mfbxe5zov%2522%257D%255D%257D%255D%252C%2522sizes%2522%253A%255B50%252C50%255D%257D%252C%2522tabbedPanels%2522%253A%257B%2522clzzx6jyx0002356mn9oqft25%2522%253A%257B%2522tabs%2522%253A%255B%257B%2522id%2522%253A%2522clzzx6jyw0001356mxs0qo7of%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522FILE%2522%252C%2522filepath%2522%253A%2522%252FREADME.md%2522%257D%255D%252C%2522id%2522%253A%2522clzzx6jyx0002356mn9oqft25%2522%252C%2522activeTabId%2522%253A%2522clzzx6jyw0001356mxs0qo7of%2522%257D%252C%2522clzzx6jyx0005356mfbxe5zov%2522%253A%257B%2522id%2522%253A%2522clzzx6jyx0005356mfbxe5zov%2522%252C%2522activeTabId%2522%253A%2522clzzx6pxg000o356mv8w08kef%2522%252C%2522tabs%2522%253A%255B%257B%2522type%2522%253A%2522SETUP_TASKS%2522%252C%2522id%2522%253A%2522clzzx6ki2000d356mhbtwhik6%2522%252C%2522mode%2522%253A%2522permanent%2522%257D%252C%257B%2522type%2522%253A%2522ENV_SETUP%2522%252C%2522id%2522%253A%2522clzzx6pxg000o356mv8w08kef%2522%252C%2522mode%2522%253A%2522permanent%2522%257D%255D%257D%252C%2522clzzx6jyx0004356m3ktby2k6%2522%253A%257B%2522id%2522%253A%2522clzzx6jyx0004356m3ktby2k6%2522%252C%2522activeTabId%2522%253A%2522clzzx6jyx0003356mipradnoe%2522%252C%2522tabs%2522%253A%255B%257B%2522id%2522%253A%2522clzzx6jyx0003356mipradnoe%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522NEW_TERMINAL%2522%257D%252C%257B%2522type%2522%253A%2522TASK_LOG%2522%252C%2522taskId%2522%253A%2522dev%2522%252C%2522id%2522%253A%2522clzzx6nf8000k356mwhsefnbc%2522%252C%2522mode%2522%253A%2522permanent%2522%257D%255D%257D%257D%252C%2522showDevtools%2522%253Atrue%252C%2522showShells%2522%253Atrue%252C%2522showSidebar%2522%253Atrue%252C%2522sidebarPanelSize%2522%253A15%257D',
                id: String(Math.floor(Math.random() * 1000)),
              })
            );
          }}
        >
          New Window
        </Button>
      </Box>
    </Box>
  );
};

export default Menu;
